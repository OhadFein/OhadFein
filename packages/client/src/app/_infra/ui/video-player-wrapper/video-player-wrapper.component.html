<div class="embed-responsive embed-responsive-16by9 video-wrapper">

  <div *ngIf="playerIsReady && !preview"
       class="top-controls onplayer-controls">
    <p class="time btn btn-sm">{{time}}</p>

    <div *ngIf="!synchronized"
         class="speed-controls">


      <button class="btn btn-sm"
              (click)="changePLayBackRate('minus')">
        <i class="icon-left-open-big"></i>
      </button>
      <span class="btn btn-sm">{{playbackRate}}</span>
      <button class="btn btn-sm"
              (click)="changePLayBackRate('plus')">
        <i class="icon-right-open-big"></i>
      </button>

      <button class="btn btn-sm"
              (click)="changePLayBackRate('def')">
        <i class="icon-restart"></i>
      </button>

    </div>
  </div>





  <vg-player class="embed-responsive-item"
             (onPlayerReady)="onPlayerReady($event)">

    <vg-overlay-play *ngIf="preview"
                     vgFor="mainVideo">
    </vg-overlay-play>

    <vg-controls *ngIf="!synchronized"
                 [vgAutohide]="true"
                 [vgAutohideTime]="preview? 2: 20">


      <div class="left-side-controls">

        <vg-play-pause vgFor="mainVideo">
        </vg-play-pause>

        <ng-template [ngIf]="playerIsReady && !preview">
          <div role="button"
               class="icon icon-prew"
               (click)="jump('bwd')"></div>
          <div role="button"
               class="icon icon-next"
               (click)="jump('fwd')"></div>
        </ng-template>

      </div>

      <div *ngIf="!synchronized && playerIsReady && !preview"
           class="right-side-controls">

        <div role="button"
             class="icon vg-icon-stop text-warning"
             (click)="stop()"></div>


      </div>



      <vg-scrub-bar [vgSlider]="false">
        <vg-scrub-bar-buffering-time vgFor="mainVideo">
        </vg-scrub-bar-buffering-time>
        <vg-scrub-bar-current-time vgFor="mainVideo"
                                   [vgSlider]="false">
        </vg-scrub-bar-current-time>
      </vg-scrub-bar>

      <vg-fullscreen *ngIf="preview"
                     vgFor="mainVideo"></vg-fullscreen>
    </vg-controls>
    <video [vgMedia]="video"
           [playbackRate]="playbackRate"
           [poster]="poster"
           #video
           id="mainVideo"
           preload="auto">
      <source *ngIf="src"
              [src]="src"
              type="video/mp4">
    </video>
  </vg-player>
  <div *ngIf="!synchronized && !preview"
       class="touch-controls"
       (tap)="onTap($event)"
       (panstart)="onPanStart($event)"
       (pan)="onPan($event)"></div>
</div>