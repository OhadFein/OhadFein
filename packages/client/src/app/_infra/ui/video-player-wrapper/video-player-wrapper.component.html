<div class="embed-responsive embed-responsive-16by9 video-wrapper">
  <vg-player class="embed-responsive-item"
             (onPlayerReady)="onPlayerReady($event)">

    <vg-overlay-play *ngIf="preview"
                     vgFor="mainVideo">
    </vg-overlay-play>

    <vg-controls [vgAutohide]="true"
                 [vgAutohideTime]="preview? 2: 20">


      <div *ngIf="!synchronized"
           class="left-side-controls">

        <vg-play-pause vgFor="mainVideo">
        </vg-play-pause>

        <div role="button"
             class="icon icon-prew"
             (click)="jump('bwd')"></div>
        <div role="button"
             class="icon icon-next"
             (click)="jump('fwd')"></div>
      </div>

      <div *ngIf="!synchronized"
           class="right-side-controls">

        <div role="button"
             class="icon vg-icon-stop text-warning"
             (click)="stop()"></div>


      </div>



      <vg-scrub-bar [vgSlider]="false">
        <vg-scrub-bar-buffering-time vgFor="mainVideo">
        </vg-scrub-bar-buffering-time>
        <vg-scrub-bar-current-time vgFor="mainVideo"
                                   [vgSlider]="false">
        </vg-scrub-bar-current-time>
      </vg-scrub-bar>

      <vg-fullscreen *ngIf="preview"
                     vgFor="mainVideo"></vg-fullscreen>
    </vg-controls>
    <video [vgMedia]="video"
           [playbackRate]="playbackRate"
           [poster]="poster"
           #video
           id="mainVideo"
           preload="auto">
      <source *ngIf="src"
              [src]="src"
              type="video/mp4">
    </video>
  </vg-player>
  <!--   <div *ngIf="!synchronized && !preview"
       class="touch-controls"
       (tap)="onTap($event)"
       (panstart)="onPanStart($event)"
       (pan)="onPan($event)"></div> -->
</div>


<div *ngIf="playerIsReady && !preview"
     class="player-controls">

  <div class="controls-row">
    <p>{{time}}</p>
  </div>
  <div *ngIf="!synchronized"
       class="controls-row">
    <button class="btn btn-info btn-sm"
            (click)="togglePlay()">
      <span *ngIf="!playerIsPlaying">PLAY</span>
      <span *ngIf="playerIsPlaying">PAUSE</span>
    </button>
    <button class="btn btn-info btn-sm"
            (click)="jump('bwd')">
      << BWD</button>
        <button class="btn btn-info btn-sm"
                (click)="jump('fwd')">FWD >>
        </button>

        <button class="btn btn-danger btn-sm"
                (click)="stop()">STOP</button>
  </div>

  <div *ngIf="!synchronized"
       class="controls-row">
    <button class="btn btn-info btn-sm"
            (click)="changePLayBackRate('plus')">
      +
    </button>
    <button class="btn btn-info btn-sm"
            (click)="changePLayBackRate('minus')">
      -
    </button>
    <span>{{playbackRate}}</span>
    <button class="btn btn-info btn-sm"
            (click)="changePLayBackRate('def')">
      Default
    </button>
  </div>


</div>