<div class="lab-tool-wrapper video-wrapper"
     [ngClass]="{'linked':synchronized}">

  <div class="controls-row"
       (click)="toggleSync()">
    <div uiToggleSwitch
         [state]="synchronized"
         [disabled]="!studentVideo"></div>
    <label>{{synchronized ? ('LAB.unlinkVideos' | translate):('LAB.linkVideos' | translate)}}</label>
  </div>

  <div *ngIf="masterVideo"
       class="lab-tool-player-wrapper star-player-wrapper">
    <ui-video-player-wrapper #masterPLayer
                             [src]="masterVideo.path"
                             [poster]="masterVideo.thumbnail"
                             [synchronized]="synchronized"
                             [preview]="!studentVideo"
                             (durationEvent)="masterPlayerDuration($event)"
                             (playerEvent)="masterPLayerEvent($event)"
                             (playerStateChange)="masterPLayerStateChange($event)"
                             (clearVideoFile)="masterVideoClear()">
    </ui-video-player-wrapper>
  </div>

  <ng-template [ngIf]="synchronized && studentVideo">
    <div class="linked-controls">

      <div class="left-side-controls">
        <div role="button"
             class="icon"
             [ngClass]="{ 'icon-play-1':!playing, 'icon-pause-1':playing}"
             (click)="toggleVideos()">
        </div>
        <div role="button"
             class="icon icon-prew"
             (click)="jump('bwd')"></div>
        <div role="button"
             class="icon icon-next"
             (click)="jump('fwd')"></div>
        <div role="button"
             class="icon vg-icon-stop"
             (click)="stop()"></div>

      </div>


      <div class="right-side-controls">

        <ui-player-speed-controls [playbackRate]="playbackRate"
                                  (changePLayBackRate)="changePLayBackRate($event)">
        </ui-player-speed-controls>



      </div>
    </div>
  </ng-template>


  <div *ngIf="studentVideo"
       class="lab-tool-player-wrapper student-player-wrapper">
    <ui-video-player-wrapper #studentPLayer
                             [src]="studentVideo ? studentVideo.path : null"
                             [preview]="false"
                             [synchronized]="synchronized"
                             (playerEvent)="studentPLayerEvent($event)"
                             (playerStateChange)="studentPLayerStateChange($event)"
                             (clearVideoFile)="studentVideoClear()">
    </ui-video-player-wrapper>
  </div>

  <!-- <div *ngIf="synchronized"
       class="touch-controls"
       (tap)="onTap($event)"
       (panstart)="onPanStart($event)"
       (pan)="onPan($event)"></div> -->
</div>