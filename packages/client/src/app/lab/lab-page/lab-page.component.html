<div class="lab-page {{labView}}">

    <!--    PAGE TITLES-->
    <!-- <div class="row lab-row page-title-row figure-title-row"> -->
    <!-- PAGE SUB TITLE - AFTER STARR VIDEO UPLOADED -->
    <!-- <div *ngIf="starFigureVideo"
             class="col-12 pb-2 text-center">
            <span dsappStarName
                  [givenName]="starFigureVideo.stars[0].firstName"
                  [familyName]="starFigureVideo.stars[0].lastName">
            </span>
            <span *ngIf="starFigureVideo.stars.length > 1"> & </span>
            <span *ngIf="starFigureVideo.stars.length > 1"
                  dsappStarName
                  [givenName]="starFigureVideo.stars[1].firstName"
                  [familyName]="starFigureVideo.stars[1].lastName">
            </span>

        </div>
        <div class="col-12 pb-2 text-center">
            <span>{{starFigureVideo.figure.name}} -
                {{starFigureVideo.name}}</span>
        </div>
    </div> -->

    <ng-container [ngSwitch]="labView">
        <ng-container *ngSwitchCase="'full'"
                      [ngTemplateOutlet]="labTool">
        </ng-container>

        <ng-container *ngSwitchCase="'preview'">
            <ng-container [ngTemplateOutlet]="labTool"></ng-container>
            <ng-container [ngTemplateOutlet]="emptyUserVideo"></ng-container>
        </ng-container>

    </ng-container>


</div>

<!-- USER MUST TO UPLOAD --->
<ng-template #emptyUserVideo>
    <div class="row lab-row choose-user-video-row text-center">
        <div class="col">
            <div class="toolbox">
                <ui-video-file-picker [disableButtons]="disableUserVideoButtons"
                                      (videoChange)="userVideoFileChanged($event)">
                </ui-video-file-picker>
            </div>
        </div>
    </div>
</ng-template>
<!--</div>-->


<!-- FULL LAB TOOL --->
<ng-template #labTool>
    <div class="row star-video-row">
        <div class="col">
            <dsapp-lab-video-tool [masterVideo]="starFigureVideo ? starFigureVideo : null"
                                  [studentVideoUrl]="userVideoPath ? userVideoPath : null"
                                  (masterPlayerDurationReady)="setDurationLimit($event)"
                                  (isPlayerReady)="masterVideoReady()"
                                  (clearVideo)="clearVideo($event)">
            </dsapp-lab-video-tool>
        </div>
    </div>
</ng-template>
<div *ngIf="labView=='full' && !disableSavePracticesButton"
     class="row">
    <div class="col text-center">
        <button class="btn btn-danger"
                [disabled]="practiceIsSaved || disableSavePracticesButton"
                (click)="saveToPractices()"><i class="icon icon-practices"></i>
            {{'LAB.saveToMyPractices' | translate}}</button>
    </div>
</div>

<video #videoMta
       style="display: none;"
       *ngIf="userVideoPath"
       width="0"
       height="0"
       preload="metadata"
       controls="false"
       playsinline
       webkit-playsinline
       [attr.src]="userVideoPath"
       (loadedmetadata)="checkUserVideoDuration($event)">
</video>